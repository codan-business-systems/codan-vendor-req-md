<mvc:View controllerName="approve.req.vendor.codan.controller.Detail" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic" xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core" xmlns:codan="approve.req.vendor.codan.control">
	<semantic:DetailPage id="page" navButtonPress="onNavBack" showNavButton="{device>/system/phone}" title="{i18n>detailTitle}"
		busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">
		<semantic:content>
			<ObjectHeader id="objectHeader" title="{name1}" number="Vendor ID: {vendorId}">
				<attributes>
					<ObjectAttribute id="abnAttribute" text="ABN/Tax Number: {abn}"/>
					<ObjectAttribute id="companyCodeAttribute" text="Company Code: {companyCode} ({companyCodeText})"/>
				</attributes>
			</ObjectHeader>
			<IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding" selectedKey="{detailView>/selectedTab}">
				<items>
					<IconTabFilter id="iconTabBarFilter1" key="tab1" icon="sap-icon://hint" tooltip="{i18n>detailIconTabBarInfo}">
						<Panel id="detailIconPanel">
							<HBox width="100%">
								<VBox width="100%">
									<l:BlockLayout>
										<l:BlockLayoutRow scrollable="false">
											<l:BlockLayoutCell>
												<codan:ListItemWithColorIcon visible="{= !${existingVendor} }" id="newVendorListItem" title="New Vendor" icon="sap-icon://alert"
													infoState="Error" iconInset="false"/>
												<!--icon="{= !!${bankVerifiedWith} ? 'sap-icon://sys-enter' : 'sap-icon://sys-cancel' }"-->
												<!--infoState="{= !!${bankVerifiedWith} ? 'Success' : 'Error' }"-->
												<!--description="{= !!${bankVerifiedWith} ? 'Entered and Verified With: ' + ${bankVerifiedWith} : 'Not Provided' }"-->
												<codan:ListItemWithColorIcon id="bankDetailsListItem" title="Bank Details"
													description="{ parts:[{path:'bankVerifiedWith'}, {path:'newBankNumber'}], formatter: '.formatter.formatBankDetailsDescription' }"
													icon="{ parts:[{path:'bankVerifiedWith'}, {path:'newBankNumber'}], formatter: '.formatter.formatBankDetailsIcon' }"
													infoState="{ parts:[{path:'bankVerifiedWith'}, {path:'newBankNumber'}], formatter: '.formatter.formatBankDetailsInfoState' }"
													iconInset="false"/>
												<codan:ListItemWithColorIcon visible="{existingVendor}" id="paymentMethodsListItem" title="Payment Methods"
													description="{= ${paymentMethodsChangeFlag} ? 'Change Requested' : 'No Change Requested' }"
													icon="{= ${paymentMethodsChangeFlag} ? 'sap-icon://sys-enter' : 'sap-icon://sys-cancel' }"
													infoState="{= ${paymentMethodsChangeFlag} ? 'Success' : 'Error' }" iconInset="false"/>
												<codan:ListItemWithColorIcon visible="{existingVendor}" id="contactListItem" title="Contact Details"
													description="{= ${contactDetailChangeFlag} ? 'Change Requested' : 'No Change Requested' }"
													icon="{= ${contactDetailChangeFlag} ? 'sap-icon://sys-enter' : 'sap-icon://sys-cancel' }"
													infoState="{= ${contactDetailChangeFlag} ? 'Success' : 'Error' }" iconInset="false"/>
												<codan:ListItemWithColorIcon visible="{existingVendor}" id="addressListItem" title="Address"
													description="{= ${addressChangeFlag} ? 'Change Requested' : 'No Change Requested' }"
													icon="{= ${addressChangeFlag} ? 'sap-icon://sys-enter' : 'sap-icon://sys-cancel' }"
													infoState="{= ${addressChangeFlag} ? 'Success' : 'Error' }" iconInset="false"/>
											</l:BlockLayoutCell>
										</l:BlockLayoutRow>
									</l:BlockLayout>
								</VBox>
							</HBox>
						</Panel>
						<Panel>
							<Link text="{i18n>txtLinkDisplayRequest}" press="navigateToReq"/>
						</Panel>
					</IconTabFilter>
					<IconTabFilter id="iconTabOrgAssignment" key="tab7" icon="sap-icon://customer-order-entry" tooltip="Company Assignment">
						<Table id="orgAssignmentList" items="{detailView>/orgAssignments}">
							<columns>
								<Column id="colOrgAssignCompDesc">
									<Text text="Company"/>
								</Column>
								<Column id="colOrgAssignCompCode">
									<Text text="Company Code"/>
								</Column>
								<Column id="colOrgAssignPurchOrg">
									<Text text="Purch Org"/>
								</Column>
								<Column id="colOrgAssignCompActive" hAlign="Center">
									<Text text="Company Code Status"/>
								</Column>
								<Column id="colOrgAssignPurchActive" hAlign="Center">
									<Text text="Purchase Org Status"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<ObjectIdentifier title="{detailView>companyCodeText}"/>
									<CheckBox text="{detailView>companyCode}" selected="{detailView>companyActive}" select="companyCodeSelected" enabled="{detailView>companyEditable}" tooltip="{detailView>companyMessage}"/>
									<CheckBox text="{= ${detailView>purchOrg} || '&lt;N/A&gt;' }" selected="{detailView>purchOrgActive}" select="companyCodeSelected" enabled="{= ${detailView>purchOrgEditable} &amp;&amp; !!${detailView>purchOrg} }"
									tooltip="{detailView>purchOrgMessage}" visible="{= ${vendorType} !== 'E'}"/>
									<Text text="{detailView>companyMessage}"/>
									<Text text="{detailView>purchOrgMessage}" visible="{= ${vendorType} !== 'E'}"/>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<IconTabFilter id="iconTabQuestionnaire" key="tab2" icon="sap-icon://travel-request" tooltip="Questionnaire">
						<List id="questionListMD" items="{ path: 'ToQuestions', filters: { path: 'status', operator: 'NE', value1: '' } }">
							<CustomListItem class="questionnaireLI">
								<Label text="{questionText}" required="{ parts: ['status'], formatter: '.formatter.questionMandatory' }" class="questionnaireRBGLabel"/>
								<RadioButtonGroup selectedIndex="{ parts: ['yesNo'], formatter: '.formatter.yesNoSelectedIndex' }" select="questionnaireSelectionChange"
									visible="{ parts: [ 'responseType' ], formatter: '.formatter.yesNoResponseRequired' }" columns="2" class="questionnaireRBG"
									editable="false">
									<buttons>
										<RadioButton text="No"/>
										<RadioButton text="Yes"/>
									</buttons>
								</RadioButtonGroup>
								<TextArea id="freeTextDetails" value="{responseText}" placeholder="Provide details"
									visible="{ parts: [ 'responseType' ], formatter: '.formatter.responseTextVisible' }"
									enabled="true" liveChange="updateQuestionnaireResponseText"
									width="100%" editable="false"/>
							</CustomListItem>
						</List>
					</IconTabFilter>
					<IconTabFilter id="iconTabNotes" key="notes" icon="sap-icon://request" tooltip="Request Notes"
						iconColor="{= !!${notes} ? 'Positive' : 'Default' }">
						<TextArea id="notes" height="100%" width="100%" value="{notes}" editable="true" rows="20" growing="true"/>
					</IconTabFilter>
					<IconTabFilter id="iconTabApprovals" key="tab3" icon="sap-icon://person-placeholder"
						iconColor="{= ${status} === 'A' ? 'Positive' : 'Negative' }" tooltip="Approvals">
						<List id="approvalsList" showSeparators="All" inset="true" items="{ToApprovals}">
							<StandardListItem id="approvalListItems" title="{stepDescription}"
								icon="{ parts:[{path:'approvalResult'}], formatter: '.formatter.formatApprovalIcon' }" iconInset="false"
								infoState="{= ${approverName} ? 'Success' : 'None' }" description="{= ${approverName} ? ${approverName} : ${approvalResultText} }"/>
						</List>
					</IconTabFilter>
					<IconTabFilter id="iconTabAttachment" key="tab4" icon="sap-icon://attachment" tooltip="{i18n>detailIconTabBarAttachments}"
						count="{attachmentCount}">
						<List id="attachmentsList" showSeparators="None" inset="true" items="{ToAttachments}" noDataText="{i18n>txtNoAttachments}">
							<StandardListItem id="attachmentListItems" title="{description}"
								icon="{parts:[{path:'mimeType'}], formatter:'sap.ui.core.IconPool.getIconForMimeType'}" iconInset="false"
								description="{parts:[{path:'fileSize'}], formatter: 'approve.req.vendor.codan.model.formatter.formatAttachmentSize'}"
								press="downloadAttachment" type="Active"/>
						</List>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</semantic:content>
		<semantic:positiveAction>
			<semantic:PositiveAction id="btnApprove" text="Approve" press="onApprove" visible="{detailView>/approveMode}"/>
		</semantic:positiveAction>
		<semantic:negativeAction>
			<semantic:NegativeAction id="btnReject" text="Reject" press="onReject" visible="{detailView>/approveMode}"/>
		</semantic:negativeAction>
	</semantic:DetailPage>
</mvc:View>